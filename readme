#generate
protoc --proto_path=proto  --go_out=pb --go_opt=paths=source_relative --go-grpc_out=pb --go-grpc_opt=paths=source_relative proto/*.proto

grpcurl -plaintext -d '{"variable_name":"test_grpc"}'  localhost:9000 simple.VariableService.GetVariable

#generate grpc gateway
protoc -I . --grpc-gateway_out ./pb \
    --grpc-gateway_opt logtostderr=true \
    --grpc-gateway_opt paths=source_relative \
    --grpc-gateway_opt generate_unbound_methods=true \
    proto/simple.gataway.proto

#build
go build -buildmode=pie -ldflags '-linkmode external -extldflags "-static-pie"' cmd/main.go
ionosctl resource list